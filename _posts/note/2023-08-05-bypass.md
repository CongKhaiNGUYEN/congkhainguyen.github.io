---
title: note | Binary Exploitation
author: Kaiba_404
date: 2023-06-26
categories: [note, Binary Exploitation]
tags: [note, Binary Exploitation]
permalink: /note/bypass
---

# Bypass some basic binary protections

## Bypass Stack Canary

Bypassing the canary is much easier for scanf() that only takes in integer, float, or double as we can just input dot/period. If scanf() takes in string, we will have to use format string attack to leak the canary value.

Below shows an example of a C program where if we input a dot/period, the input will be skipped and variable a will retain its original value.

```c

#include <stdio.h>

int main()
{
    int a = 10;
    
    printf("Input: ");
    scanf("%d", &a);
    printf("%d", a);
    // result: 10

    return 0;
}

```

In the provided C code, the program reads an integer from the user using the scanf function. If you input a period (.) when prompted, it will not be a valid integer input, and scanf will not be able to convert it into an integer. As a result, scanf will return a value of 0, indicating that it did not successfully read an integer.

Since the return value of scanf is being ignored in your code, you might not notice any immediate effects. However, the variable a will still retain its initial value of 10, and the output of the program will be:

```shell
Copy code
Input: 0
10
Here, 0 is the return value of scanf, and 10 is the value of the variable a printed by the second printf statement.
```

It's important to note that when scanf fails to read the expected input format, it leaves the input in the buffer, potentially causing issues with subsequent scanf calls or other input operations. In a more complex program, you should handle such input errors and clear the input buffer appropriately.


## ASLR

<https://ir0nstone.gitbook.io/notes/types/stack/aslr/ret2plt-aslr-bypass>